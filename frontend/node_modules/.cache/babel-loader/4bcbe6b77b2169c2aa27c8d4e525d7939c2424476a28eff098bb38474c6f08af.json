{"ast":null,"code":"var _jsxFileName = \"C:\\\\hackathon\\\\frontend\\\\src\\\\components\\\\IssueCredential.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { listSchemas, issueCredential } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function IssueCredential() {\n  _s();\n  const [schemas, setSchemas] = useState([]);\n  const [schemaId, setSchemaId] = useState('');\n  const [subjectJson, setSubjectJson] = useState('{\"id\":\"user-1\",\"name\":\"Alice\",\"email\":\"a@example.com\"}');\n  useEffect(() => {\n    listSchemas().then(setSchemas);\n  }, []);\n  async function issue() {\n    let subject;\n    try {\n      subject = JSON.parse(subjectJson);\n    } catch (e) {\n      alert('invalid json');\n      return;\n    }\n    const r = await issueCredential(schemaId, subject);\n    if (r.credential_id) alert('credential issued: ' + r.credential_id);else alert('error issuing');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Issue Credential\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"form-control my-2\",\n      value: schemaId,\n      onChange: e => setSchemaId(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"-- select schema --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }, this), schemas.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: s.id,\n        children: s.name\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 30\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      rows: 6,\n      className: \"form-control my-2\",\n      value: subjectJson,\n      onChange: e => setSubjectJson(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: issue,\n      children: \"Issue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(IssueCredential, \"rD08glBctMTIkwn7aBYtTZ4UR9Y=\");\n_c = IssueCredential;\nvar _c;\n$RefreshReg$(_c, \"IssueCredential\");","map":{"version":3,"names":["React","useEffect","useState","listSchemas","issueCredential","jsxDEV","_jsxDEV","IssueCredential","_s","schemas","setSchemas","schemaId","setSchemaId","subjectJson","setSubjectJson","then","issue","subject","JSON","parse","e","alert","r","credential_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","map","s","id","name","rows","onClick","_c","$RefreshReg$"],"sources":["C:/hackathon/frontend/src/components/IssueCredential.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { listSchemas, issueCredential } from '../api'\r\nexport default function IssueCredential(){\r\n    const [schemas, setSchemas] = useState([])\r\n    const [schemaId, setSchemaId] = useState('')\r\n    const [subjectJson, setSubjectJson] =\r\n    useState('{\"id\":\"user-1\",\"name\":\"Alice\",\"email\":\"a@example.com\"}')\r\n    useEffect(()=>{listSchemas().then(setSchemas)},[])\r\n    async function issue(){\r\n        let subject\r\n        try{ subject = JSON.parse(subjectJson) }catch(e){ alert('invalid json');\r\n    return }\r\n        const r = await issueCredential(schemaId, subject)\r\n        if(r.credential_id) alert('credential issued: '+r.credential_id)\r\n        else alert('error issuing')\r\n    }\r\n    return (\r\n    <div className=\"card p-3\">\r\n        <h5>Issue Credential</h5>\r\n        <select className=\"form-control my-2\" value={schemaId}onChange={e=>setSchemaId(e.target.value)}>\r\n            <option value=\"\">-- select schema --</option>\r\n            {schemas.map(s=> <option key={s.id} value={s.id}>{s.name}</option>)}\r\n        </select>\r\n        <textarea rows={6} className=\"form-control my-2\" value={subjectJson}onChange={e=>setSubjectJson(e.target.value)} />\r\n        <button className=\"btn btn-primary\" onClick={issue}>Issue</button>\r\n    </div>\r\n    )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAASC,WAAW,EAAEC,eAAe,QAAQ,QAAQ;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACrD,eAAe,SAASC,eAAeA,CAAA,EAAE;EAAAC,EAAA;EACrC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GACnCZ,QAAQ,CAAC,wDAAwD,CAAC;EAClED,SAAS,CAAC,MAAI;IAACE,WAAW,CAAC,CAAC,CAACY,IAAI,CAACL,UAAU,CAAC;EAAA,CAAC,EAAC,EAAE,CAAC;EAClD,eAAeM,KAAKA,CAAA,EAAE;IAClB,IAAIC,OAAO;IACX,IAAG;MAAEA,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACN,WAAW,CAAC;IAAC,CAAC,QAAMO,CAAC,EAAC;MAAEC,KAAK,CAAC,cAAc,CAAC;MAC3E;IAAO;IACH,MAAMC,CAAC,GAAG,MAAMlB,eAAe,CAACO,QAAQ,EAAEM,OAAO,CAAC;IAClD,IAAGK,CAAC,CAACC,aAAa,EAAEF,KAAK,CAAC,qBAAqB,GAACC,CAAC,CAACC,aAAa,CAAC,MAC3DF,KAAK,CAAC,eAAe,CAAC;EAC/B;EACA,oBACAf,OAAA;IAAKkB,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACrBnB,OAAA;MAAAmB,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzBvB,OAAA;MAAQkB,SAAS,EAAC,mBAAmB;MAACM,KAAK,EAAEnB,QAAS;MAAAoB,QAAQ,EAAEX,CAAC,IAAER,WAAW,CAACQ,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE;MAAAL,QAAA,gBAC3FnB,OAAA;QAAQwB,KAAK,EAAC,EAAE;QAAAL,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAC5CpB,OAAO,CAACwB,GAAG,CAACC,CAAC,iBAAG5B,OAAA;QAAmBwB,KAAK,EAAEI,CAAC,CAACC,EAAG;QAAAV,QAAA,EAAES,CAAC,CAACE;MAAI,GAA1BF,CAAC,CAACC,EAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA+B,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC,eACTvB,OAAA;MAAU+B,IAAI,EAAE,CAAE;MAACb,SAAS,EAAC,mBAAmB;MAACM,KAAK,EAAEjB,WAAY;MAAAkB,QAAQ,EAAEX,CAAC,IAAEN,cAAc,CAACM,CAAC,CAACY,MAAM,CAACF,KAAK;IAAE;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnHvB,OAAA;MAAQkB,SAAS,EAAC,iBAAiB;MAACc,OAAO,EAAEtB,KAAM;MAAAS,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjE,CAAC;AAEV;AAACrB,EAAA,CAzBuBD,eAAe;AAAAgC,EAAA,GAAfhC,eAAe;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}